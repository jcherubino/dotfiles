global !p
def wrap_in_char(match, text):
	'''Function wraps text in matching characters or smartly matches brackets'''
	closing_brackets = {'(':')', '[':']', '{':'}'}

	if match in closing_brackets:
		return match + text + closing_brackets[match]
	else:
		return match + text + match
endglobal	

snippet ( "Add matching bracket"
($1)$0
endsnippet

snippet [ "Add matching bracket"
[$1]$0
endsnippet

snippet { "Add matching bracket"
{$1}$0
endsnippet
